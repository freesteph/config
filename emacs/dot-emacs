
;; useless chrome

;; Added by Package.el.  This must come before configurations of
;; installed packages.  Don't delete this line.  If you don't want it,
;; just comment it out by adding a semicolon to the start of the line.
;; You may delete these explanatory comments.
(require 'package)
(add-to-list 'package-archives '("melpa" . "https://melpa.org/packages/"))
(package-initialize)

;; no backup files
(setq make-backup-files nil)
(setq auto-save-default nil)
(setq backup-directory-alist
      `((".*" . ,temporary-file-directory)))
(setq auto-save-file-name-transforms
      `((".*" ,temporary-file-directory t)))

(pinentry-start)

(defun spm/load-custom-files ()
  "Load a list of maybe-encrypted files I maintain."
  (let ((extensions '(spm-core spm-work init)))
    (dolist (ext extensions)
      (let* ((file (format "%s%s%s" user-emacs-directory ext ".el"))
             (enc-file (concat file ".gpg")))
        (message "loading %s..." file)
        (or (and (file-exists-p file) (load file))
            (and (file-exists-p enc-file) (load enc-file))
            (message "could not find load file for %s" ext))))))

(add-hook 'after-init-hook 'spm/load-custom-files)


;; move custom declarations out of here
(setq custom-file (expand-file-name "custom.el" user-emacs-directory))
(load custom-file :noerror)
